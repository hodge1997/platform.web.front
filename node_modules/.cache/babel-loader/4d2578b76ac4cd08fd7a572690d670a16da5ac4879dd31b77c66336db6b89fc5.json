{"ast":null,"code":"var _jsxFileName = \"/Users/sha/Desktop/CollectPie_frontend/collectpie_flask/src/components/RegisterPage/RegisterPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useLocation, useNavigate, Link } from 'react-router-dom';\nimport { TextField, Button, CircularProgress, Typography, Box } from '@mui/material';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './LoginPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  var _location$state, _location$state2;\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const onSubmit = async data => {\n    setLoading(true);\n    try {\n      const response = await fetch('https://your-api-endpoint/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: data.username,\n          password: data.password\n        })\n      });\n      if (response.ok) {\n        const result = await response.json();\n        console.log('Login successful:', result);\n\n        // Store the token or handle the response as needed\n        localStorage.setItem('token', result.token);\n\n        // Show a success notification\n        toast.success('Login successful! Redirecting...', {\n          position: \"top-right\",\n          autoClose: 2000\n        });\n\n        // Redirect to the home page or another protected page after a short delay\n        setTimeout(() => {\n          navigate('/');\n        }, 2000);\n      } else {\n        const errorData = await response.json();\n        console.error('Login failed:', errorData);\n        toast.error(`Login failed: ${errorData.message}`);\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n      toast.error('An error occurred during login. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    className: \"login-page\",\n    sx: {\n      padding: '20px',\n      textAlign: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      component: \"h1\",\n      gutterBottom: true,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      style: {\n        maxWidth: '400px',\n        margin: '0 auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Username\",\n        variant: \"outlined\",\n        fullWidth: true,\n        margin: \"normal\",\n        defaultValue: ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.username) || '',\n        error: !!errors.username,\n        helperText: errors.username ? 'Username is required' : '',\n        ...register('username', {\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Password\",\n        type: \"password\",\n        variant: \"outlined\",\n        fullWidth: true,\n        margin: \"normal\",\n        defaultValue: ((_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.password) || '',\n        error: !!errors.password,\n        helperText: errors.password ? 'Password is required' : '',\n        ...register('password', {\n          required: true\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        disabled: loading,\n        sx: {\n          marginTop: '20px',\n          padding: '10px 0'\n        },\n        children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 22\n        }, this) : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      sx: {\n        marginTop: '20px'\n      },\n      children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        children: \"Register here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"Ee/umM48HfM1Q/0urRUclloL3zQ=\", false, function () {\n  return [useForm, useNavigate, useLocation];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useForm","useLocation","useNavigate","Link","TextField","Button","CircularProgress","Typography","Box","ToastContainer","toast","jsxDEV","_jsxDEV","LoginPage","_s","_location$state","_location$state2","register","handleSubmit","formState","errors","loading","setLoading","navigate","location","onSubmit","data","response","fetch","method","headers","body","JSON","stringify","username","password","ok","result","json","console","log","localStorage","setItem","token","success","position","autoClose","setTimeout","errorData","error","message","className","sx","padding","textAlign","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","component","gutterBottom","style","maxWidth","margin","label","fullWidth","defaultValue","state","helperText","required","type","color","disabled","marginTop","size","to","_c","$RefreshReg$"],"sources":["/Users/sha/Desktop/CollectPie_frontend/collectpie_flask/src/components/RegisterPage/RegisterPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useLocation, useNavigate, Link } from 'react-router-dom';\nimport { TextField, Button, CircularProgress, Typography, Box } from '@mui/material';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './LoginPage.css';\n\nconst LoginPage = () => {\n  const { register, handleSubmit, formState: { errors } } = useForm();\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const onSubmit = async (data) => {\n    setLoading(true);\n    try {\n      const response = await fetch('https://your-api-endpoint/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          username: data.username,\n          password: data.password,\n        }),\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        console.log('Login successful:', result);\n\n        // Store the token or handle the response as needed\n        localStorage.setItem('token', result.token);\n\n        // Show a success notification\n        toast.success('Login successful! Redirecting...', {\n          position: \"top-right\",\n          autoClose: 2000,\n        });\n\n        // Redirect to the home page or another protected page after a short delay\n        setTimeout(() => {\n          navigate('/');\n        }, 2000);\n      } else {\n        const errorData = await response.json();\n        console.error('Login failed:', errorData);\n        toast.error(`Login failed: ${errorData.message}`);\n      }\n    } catch (error) {\n      console.error('Error during login:', error);\n      toast.error('An error occurred during login. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Box className=\"login-page\" sx={{ padding: '20px', textAlign: 'center' }}>\n      <ToastContainer />\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>Login</Typography>\n      <form onSubmit={handleSubmit(onSubmit)} style={{ maxWidth: '400px', margin: '0 auto' }}>\n        <TextField\n          label=\"Username\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          defaultValue={location.state?.username || ''}\n          error={!!errors.username}\n          helperText={errors.username ? 'Username is required' : ''}\n          {...register('username', { required: true })}\n        />\n        <TextField\n          label=\"Password\"\n          type=\"password\"\n          variant=\"outlined\"\n          fullWidth\n          margin=\"normal\"\n          defaultValue={location.state?.password || ''}\n          error={!!errors.password}\n          helperText={errors.password ? 'Password is required' : ''}\n          {...register('password', { required: true })}\n        />\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          fullWidth\n          disabled={loading}\n          sx={{ marginTop: '20px', padding: '10px 0' }}\n        >\n          {loading ? <CircularProgress size={24} /> : 'Login'}\n        </Button>\n      </form>\n      <Typography variant=\"body2\" sx={{ marginTop: '20px' }}>\n        Don't have an account? <Link to=\"/register\">Register here</Link>\n      </Typography>\n    </Box>\n  );\n};\n\nexport default LoginPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}